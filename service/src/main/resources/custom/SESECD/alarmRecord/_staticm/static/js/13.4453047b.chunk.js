(this["webpackJsonpsup-mobile-emecommand"]=this["webpackJsonpsup-mobile-emecommand"]||[]).push([[13],{825:function(e,n,t){},837:function(e,n,t){"use strict";t.r(n);var a=t(17),l=t.n(a),i=t(816),o=t(42),r=t(193),c=t(1),d=t.n(c),u=t(120),v=t(12),m=(t(825),t(253)),s=t(815),E=t(811);n.default=Object(s.a)()((function(e){var n,t,a,s,p,f,b=Object(c.useState)({}),h=Object(r.a)(b,2),w=h[0],O=h[1],j=Object(c.useState)({}),y=Object(r.a)(j,2),x=y[0],S=y[1],k=Object(m.a)(window.location.href);Object(c.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("eventDetails"));S(e),D(e.id)}),[]);var D=function(){var e=Object(o.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.g)(n);case 2:t=e.sent,t=Object(i.a)(Object(i.a)({},t),{},{mapPoint:t.mapPoint?"lon:".concat(JSON.parse(t.mapPoint).coordinates[0].lon.toFixed(4),",")+"lat:".concat(JSON.parse(t.mapPoint).coordinates[0].lat.toFixed(4),",")+"hei:".concat(JSON.parse(t.mapPoint).coordinates[0].hei.toFixed(4)):""}),console.log(t.mapPoint),O(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C={mode:"fill",onLeftClick:function(){sessionStorage.removeItem("eventDetails"),window.location.href="#/demo/eventList?tabIndex=".concat(k.tabIndex)}},P=function(e){window.location.href="#/demo/eventEditing?id=".concat(w.id,"&index=").concat(k.tabIndex,"&status=").concat(e)},g=function(){var e=Object(o.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={alarmId:w.id,alarmLevel:(null===w||void 0===w||null===(n=w.alarmLevel)||void 0===n?void 0:n.id)||"SESECD_alarmLevel/001"},e.next=3,Object(E.a)(t);case 3:e.sent?v.n.info("\u5904\u8b66\u6210\u529f",1,(function(){window.location.href="#/demo/eventList?tabIndex=0"})):v.n.info("\u5904\u8b66\u5931\u8d25",1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.b)(w.id);case 2:e.sent?v.n.info("\u4e8b\u4ef6\u7ed3\u675f\u6210\u529f",1,(function(){window.location.href="#/demo/eventList?tabIndex=1"})):v.n.info("\u4e8b\u4ef6\u7ed3\u675f\u5931\u8d25",1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.a.createElement("div",{className:"eventDetails-root"},d.a.createElement(u.e,C,"\u4e8b\u4ef6\u8be6\u60c5"),d.a.createElement("div",{className:"eventDetails-info-root"},d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u4ef6\u540d\u79f0"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.accidentName)),d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u4ef6\u65f6\u95f4"),d.a.createElement("div",null,(null===w||void 0===w?void 0:w.happenTime)?Object(m.b)(new Date(null===w||void 0===w?void 0:w.happenTime),"YYYY-mm-dd HH:MM:SS"):"-")),d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u53d1\u5730\u70b9"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.position)),d.a.createElement("div",null,d.a.createElement("div",null,"\u53d7\u4f24\u4eba\u6570"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.wounderPerson)),d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u4ef6\u63cf\u8ff0"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.description)),d.a.createElement("div",null,d.a.createElement("div",null,"\u63a5\u8b66\u4eba"),d.a.createElement("div",null,null===w||void 0===w||null===(n=w.receiver)||void 0===n?void 0:n.name)),d.a.createElement("div",null,d.a.createElement("div",null,"\u5730\u56fe\u5750\u6807"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.mapPoint)),d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u53d1\u516c\u53f8"),d.a.createElement("div",null,null===w||void 0===w||null===(t=w.hpnCompany)||void 0===t?void 0:t.name)),d.a.createElement("div",null,d.a.createElement("div",null,"\u63a5\u8b66\u65f6\u95f4"),d.a.createElement("div",null,(null===w||void 0===w?void 0:w.rectime)?Object(m.b)(new Date(null===w||void 0===w?void 0:w.rectime),"YYYY-mm-dd HH:MM:SS"):"-")),d.a.createElement("div",null,d.a.createElement("div",null,"\u62a5\u8b66\u4eba"),d.a.createElement("div",null,null===w||void 0===w||null===(a=w.alarmPerson)||void 0===a?void 0:a.name)),d.a.createElement("div",null,d.a.createElement("div",null,"\u62a5\u8b66\u4eba\u7535\u8bdd"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.alarmPhone)),d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u4ef6\u7b49\u7ea7"),d.a.createElement("div",null,null===w||void 0===w||null===(s=w.alarmLevel)||void 0===s?void 0:s.value)),d.a.createElement("div",null,d.a.createElement("div",null,"\u4e8b\u53d1\u90e8\u95e8"),d.a.createElement("div",null,null===w||void 0===w||null===(p=w.hpmDepartment)||void 0===p?void 0:p.name)),d.a.createElement("div",null,d.a.createElement("div",null,"\u6b7b\u4ea1\u4eba\u6570"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.deathPerson)),d.a.createElement("div",null,d.a.createElement("div",null,"\u5904\u7406\u72b6\u6001"),d.a.createElement("div",null,null===w||void 0===w||null===(f=w.processState)||void 0===f?void 0:f.value)),d.a.createElement("div",null,d.a.createElement("div",null,"\u5904\u7406\u8bb0\u5f55"),d.a.createElement("div",null,null===w||void 0===w?void 0:w.process))),"alarm"===x.isAlarm?d.a.createElement("div",{className:"root-footer-main"},d.a.createElement(v.c,{type:"primary",style:{backgroundColor:"#2972D5",width:"96%"},onClick:function(){return g()}},"\u5904\u8b66")):"event"===x.isAlarm?d.a.createElement("div",{className:"root-footer-main"},d.a.createElement(v.c,{type:"primary",style:{backgroundColor:"#2972D5",width:"48%"},onClick:function(){return P("open")}},"\u5e94\u6025\u5904\u7f6e"),d.a.createElement(v.c,{type:"primary",style:{backgroundColor:"#2972D5",width:"48%"},onClick:function(){return N()}},"\u7ed3\u675f\u4e8b\u4ef6")):d.a.createElement("div",{className:"root-footer-main"},d.a.createElement(v.c,{type:"primary",style:{backgroundColor:"#2972D5",width:"96%"},onClick:function(){return P("close")}},"\u5e94\u6025\u5904\u7f6e")))}))}}]);
//# sourceMappingURL=13.4453047b.chunk.js.map